# ***Drawing robot (plotter)***

### Цель проекта
Разработать работающую модель робота-плоттера для преобразования печатаемого текста в рукописный шрифт на лист А4

### Значимость проекта
В современном мире человек всё меньше пишет текст от руки, ведь набор его на компьютере выглядит проще, хотя и в напечатанном виде он выглядит несколько однообразно. В связи с этим может возникнуть необходимость "ручного" написания, однако в таком случае невозможно что-либо исправить аккуратно. И в таком случае подобный проект - лучшее решение, позволяющее создать идеальный текст в электронном виде и затем перевести его в красивый рукописный, не затрачивая при этом собственных сил, так как для этого нужно всего лишь загрузить данные на робота.  

### Задачи
1. Придумать и собрать корпус и движущуюся часть робота на трёх осях
2. Создать программу для перевода печатаемого текста в рукописный

### Описание работы
Наш робот должен принимать с компьютера входной параметр - текст - в виде набора параметро передвижения по двум горизонтальным осям *(X и Y)* и на их основе производить движение.

### Этапы работы
1. Начальный этап - создание внешнего вида робота и проверка его работоспособности
2. Подключение ROS

### Структура робота
Весь проект выполнен с использованием комплектующих *Lego*

1. Корпус
   - рама для крепления на ней движимой части
2. Ось X
   - два мотора
   - две рейки для крепления моторов оси Y
3. Ось Y
   - два мотора
   - рейки для крепления оси Z
4. Ось Z
   - мотор
   - крепление для опускания/подъёма карандаша
5. Блок *Lego EV3*

### Что было сделано и чего удалось достичь на начальном этапе
В результате работы удалось сделать робота с наиболее плавным и устойчивым движением двигателей по осям. Для более качественной работы блока EV3 образ системы был установлен с [сайта ev3dev](https://www.ev3dev.org/docs/getting-started/) на полностью "чистую" SD-карту. По итогам нескольких тестов удалось найти максимально правильные необходимые напряжения для подачи на двигатели.

[Пример работы робота](https://drive.google.com/file/d/1FAD7zE_WIPlvrzDgCZBnQWeJByxbpj38/view?usp=sharing)

Подключение ROS
===============
### Использованный софт
1. _ROS Noetic_ на виртуальной машине Ubuntu версии 20.04
2. Образ _H4R Yochto Linux_
3. Контейнеры _Docker_ версии 20.10.7
   - Используется для автоматизации развёртывания и управления
   - Также помогает ПО работать везде одинаково
4. Универсальная клавиатура _Teleop_ для ROS (для управления роботом)
6. Контейнеры _розаv3_

### Коротко о главном
Основные (и единственные найденные) возможности _EV3_ взаимодействовать с ROS - использование пакета _ros-comm_ и использование образа _H4R Yochto Linux_. В первом способе необходимо использование инструмента _brickstrap_ для создания образа. Данный инструмент разрабатывался для _Ubuntu_ и хорошо работал на виртуальной машине. Сейчас не поддерживается.

Для второго способо собственная SD-карта создаётся путём скачивания и дальнейшей распаковки файлов на неё. SD-карта форматируется и делится на две части. Одна из них имеет файловую систему _FAT16_ на 48 Мб, другая же остаётся просто USB-накопителем (_FAT32_ или _NTFS_) на 7,35 Гб.

С этим связаны основные проблемы - большая часть файлов не читается операционной системой, что было проверено как на _Windows_, так и на _Linux_. Очевидно, что они сделаны для _ОС Linux_, однако в ней были обнаружены ошибки при попытке разархивировать файлы как "вручную", так и через консоль. Из-за этого *EV3* не смог работать в полной мере.

###### Управление движением робота с компьютера также позволяет использовать его в формате простейшего графического планшета, наиболее подходящего для простых фигур. 
